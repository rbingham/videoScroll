angular.module("videoScroll").directive("playVideo",["$window",function(e){function n(e){if(null==e)return void t();if(w>d)return w=d,void i();if(0>w)return w=0,void i();if(null!=e){switch(e.type){case"wheel":e.deltaY>=0?w+=s:w-=s;break;case"keydown":switch(e.keyCode){case 37:case 38:w-=s;break;case 39:case 40:w+=s}}r.currentTime=w}}function o(e){if(e.getBoundingClientRect)return e.getBoundingClientRect().top;var n=0;if(e.offsetParent)do n+=e.offsetTop,e=e.offsetParent;while(e);return n}function t(){window.addEventListener&&window.addEventListener("DOMMouseScroll",l,!1),window.onwheel=l,window.onmousewheel=document.onmousewheel=l,window.ontouchmove=l,document.onkeydown=u}function i(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",l,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function l(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1,n(e)}function u(e){return console.log("here"),a[e.keyCode]?(l(e),n(e),!1):void 0}var r,d,w,c,s,a={37:1,38:1,39:1,40:1};return w=0,s=.15,{restrict:"A",link:function(t,i){r=i[0],c=o(r),angular.element(e).bind("scroll",function(){isNaN(d)&&(d=r.duration,console.log(d)),e.scrollY>=c-225&&e.scrollY<=c-175&&n(null)})}}}]);
