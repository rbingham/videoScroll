angular.module("videoScroll").directive("playVideo",["$window",function(e){function n(e){if(null==e)return void t();if(w>c)return w=c,void i();if(0>w)return w=0,void i();if(null!=e){switch(e.type){case"wheel":e.deltaY>=0?w+=a:w-=a;break;case"keydown":switch(e.keyCode){case 37:case 38:w-=a;break;case 39:case 40:w+=a}}d.currentTime=w}}function o(e){if(e.getBoundingClientRect)return e.getBoundingClientRect().top;var n=0;if(e.offsetParent)do n+=e.offsetTop,e=e.offsetParent;while(e);return n}function t(){window.addEventListener&&window.addEventListener("DOMMouseScroll",l,!1),window.onwheel=l,window.onmousewheel=document.onmousewheel=l,window.ontouchmove=l,document.onkeydown=u}function i(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",l,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function l(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1,n(e)}function u(e){return console.log("here"),f[e.keyCode]?(l(e),n(e),!1):void 0}function r(e){e=e[0];var n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}var d,c,w,s,a,f={37:1,38:1,39:1,40:1};return w=0,a=.15,{restrict:"A",link:function(t,i){d=i[0],s=o(d),angular.element(e).bind("scroll",function(){isNaN(c)&&(c=d.duration,console.log(c)),r(!i)&&e.scrollY>=s-225&&e.scrollY<=s-175&&n(null)})}}}]);
